```{r echo = FALSE}
library(knitr)

# Color text
colorize <- function(x, color) {
  
  if (knitr::is_latex_output()) {
    
    sprintf("\\textcolor{%s}{%s}", color, x)
    
  } else if (knitr::is_html_output()) {
    
    sprintf("<span style='color: %s;'>%s</span>", color, x)
    
  } else { x }
}
```

# (PART) Recursos {-}

# üìù Ejercicios recopilados {-}

<mark>**Recopilaci√≥n de los ejercicios planteados**</mark> a lo largo del manual. Vuelve por aqu√≠ si quieres cuando acabes las lecciones para repasar aquellos ejercicios que m√°s te hayan costado.


## Instalaci√≥n {-}

:::: {.blackbox data-latex=""}

Scripts usados:

* [**script02.R**](https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script02.R): instalaci√≥n de R.  Ver en <https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script02.R>
::::

(haz click en las flechas para ver soluciones)

<details>
  <summary>üìù<strong>Ejercicio 1</strong>: abre `R Studio` y en tu consola (parte inferior de tu pantalla) asigna los valores `2` y `5` a dos variables `a` y `b`. Tras asignarles valores, multiplica los n√∫meros en consola (**haz click** en la flecha para la soluci√≥n propuesta). </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Para poner comentarios en el c√≥digo se usa #

# Definici√≥n de variables
a <- 2
b <- 5

# Multiplicaci√≥n
a * b
```

```{r echo = FALSE, out.width = "80%", fig.align = "center", fig.cap = "Multiplicaci√≥n de a y b."}
knitr::include_graphics("./img/consola_multiplicacion.jpg")
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 2</strong>: modifica el c√≥digo inferior para definir dos variables `c` y `d`, con valores `3` y `-1`, y calcular la divisi√≥n `c/d` (**haz click** en la flecha para la soluci√≥n propuesta).
  
```{r eval = FALSE}
# Definici√≥n de variables
c <- 
d <-

# Operaci√≥n (divisi√≥n)
c ? d
```
</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Definici√≥n de variables
c <- 3
d <- -1

# Divisi√≥n
c / d
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 3</strong>: repite el ejercicio 1 pero ahora guarda el resultado de la multiplicaci√≥n final en una variable `c`. Para ver el resultado guardado en `c` escribe dicha variable en consola (**haz click** en la flecha para la soluci√≥n propuesta). </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Variables
a <- 2
b <- 5

# Resultado
c <- a * b

# Muestro en consola
c
```

```{r echo = FALSE, out.width = "80%", fig.align = "center", fig.cap = "Multiplicaci√≥n de a y b guardando el resultado."}
knitr::include_graphics("./img/consola_multiplicacion_2.jpg")
```

<!-- tocstop -->
</details>

&nbsp;

**`r colorize("WARNING:", "#ffc107")`**

No hace falta gastar una l√≠nea por cada orden que quieras ejecutar. Tampoco necesitas guardar cada paso intermedio que realices. **`r colorize("Cuidado con la memoria", "#ffc107")`**: cada asignaci√≥n que hagas es una variable guardada que consume recursos en tu ordenador.






## Primeros pasos {-}

:::: {.blackbox data-latex=""}

Scripts usados:

* [**script04.R**](https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script04.R): primeros pasos.  Ver en <https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script04.R>
::::

(haz click en las flechas para ver soluciones)

<details>
  <summary>üìù<strong>Ejercicio 1</strong>: asigna ahora los valores `1`, `-2`, `3` a tres variables `a`, `b` y `c` distintas, y calcula la ra√≠z cuadrada de cada uno (**haz click** en la flecha para la soluci√≥n propuesta). </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Variables
a <- 1
b <- -2
c <- 3

# Resultado
sqrt(a)
sqrt(b)
sqrt(c)
```

<!-- tocstop -->
</details>

&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 2</strong>: calcula en consola la suma de 3 m√°s 4, y todo ello multiplicado por 10, y as√≠gnalo a una variable `x` (**haz click** en la flecha para la soluci√≥n propuesta). Imprime el valor por consola</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Asignamos
x <- (3 + 4) * 10

# Imprimimos
x
```

<!-- tocstop -->
</details>


&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 3</strong>: asigna un valor positivo a `x` y calcula  su ra√≠z cuadrada; asigna otro negativo y calcula su valor absoluto con la funci√≥n `abs()` (**haz click** en la flecha para la soluci√≥n propuesta).</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Ra√≠z cuadrada
x <- 73 # por ejemplo
sqrt(x)

# Valor absoluto
y <- -19 # por ejemplo
abs(y)
```

<!-- tocstop -->
</details>

&nbsp;

**`r colorize("CONSEJO:", "#20935E")`**

Las √≥rdenes `sqrt(x)` y `abs(y)` se llaman <mark>**funciones**</mark>, y la variable que tienen entre par√©ntesis se llama **argumento de la funci√≥n**: una variable que toma de entrada la funci√≥n y con la que opera internamente.


&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 4</strong>: usando la variable `x` ya definida, completa/modifica el c√≥digo inferior para guardar en una nueva variable `z` el resultado guardado en `x` menos 5 (**haz click** en la flecha para la soluci√≥n propuesta).
  
```{r eval = FALSE}
z <- ? - ?
z
```

</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
z <- x - 5
z
```
<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 5</strong>: usando las variables `x` e `y` ya definidas, calcula el m√°ximo de ambas (funci√≥n `max()`), y gu√°rdalo en una nueva variable `t`. (**haz click** en la flecha para la soluci√≥n propuesta).</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
t <- max(x, y)
t
```
<!-- tocstop -->
</details>

&nbsp;

**`r colorize("WARNING:", "#ffc107")`**

No hace falta gastar una l√≠nea por cada orden que quieras ejecutar. Tampoco necesitas guardar cada paso intermedio que realices. **`r colorize("Cuidado con la memoria", "#ffc107")`**: cada asignaci√≥n que hagas es una variable guardada que consume recursos en tu ordenador.

## Variables num√©ricas y de texto

:::: {.blackbox data-latex=""}

Scripts usados:

* [**script05.R**](https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script05.R): variables num√©ricas y caracteres.  Ver en <https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script05.R>
::::

(haz click en las flechas para ver soluciones)


<details>
  <summary>üìù<strong>Ejercicio 1</strong>: define una variable `edad` que guarde tu edad y otra `nombre` con tu nombre. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
edad <- 32 # tipo numeric
nombre <- "Javier" # tipo caracter

edad
nombre
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 2</strong>: define otra variable con tus apellidos y junta las variables `nombre` y `apellidos` en una sola cadena de texto que guardes en `nombre_completo`. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
library(glue)
# Apellidos
apellidos <- "√Ålvarez Li√©bana"

# Pegamos
nombre_completo <- glue("{nombre} {apellidos}")
nombre_completo

# Otra forma
nombre_completo <- paste(nombre, apellidos)
nombre_completo
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 3</strong>: define dos variables num√©ricas y realiza la suma de ambas. Obt√©n con `class()` la clase de dicha variable suma </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Definimos dos variables num√©ricas
a <- 1
b <- -2

a + b
class(a + b)
```

<!-- tocstop -->
</details>


&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 4</strong>: construye una frase que diga ¬´Hola, me llamo ... y tengo ... a√±os¬ª. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
edad <- 32
glue("Hola, me llamo {nombre_completo} y tengo {edad} a√±os")
```

<!-- tocstop -->
</details>


&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 5</strong>: define una cadena de texto con `"mi c√≥digo postal es 28045"`. Calcula la longitud de la cadena y extrae la subcadena del lugar 3 al 17 con `str_sub()` del paquete `{stringr}` (guarda dicha subcadena en una variable `y`) </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
library(stringr)
x <- "mi c√≥digo postal es 28045"
y <- str_sub(x, 3, 17)
y
```

<!-- tocstop -->
</details>


&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 6</strong>: con la subcadena `y` del ejercicio anterior, elimina los espacios solo de la izquierda y convierte a may√∫sculas </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Todo en una l√≠nea
str_to_upper(str_trim(y, side = "left"))

# Paso a paso
z <- str_trim(y, side = "left")
str_to_upper(z)
```

<!-- tocstop -->
</details>


&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 7</strong>: con la cadena `x` original, sustituye la subcadena "c√≥digo postal" por "cp".</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
str_sub(x, 4, 16) <- "cp"
```

<!-- tocstop -->
</details>


&nbsp;







## Vectores

:::: {.blackbox data-latex=""}

Scripts usados:

* [**script06.R**](https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script06.R): vectores.  Ver en <https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script06.R>
::::

(haz click en las flechas para ver soluciones)


<details>
  <summary>üìù<strong>Ejercicio 1</strong>: modifica el c√≥digo inferior para crear un vector de nombre `vector_num` que contenga los n√∫meros 1, 5 y -7.
  
```{r eval = FALSE}
# Vector de n√∫meros
vector_num <- c(1)
vector_num
```
</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Vector de n√∫meros
vector_num <- c(1, 5, -7)
vector_num
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 2</strong>: define un vector que contenga los n√∫meros 1, 10, -1 y 2, y gu√°rdalo en una variable llamada `vector_num`. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Vector de n√∫meros
vector_num <- c(1, 10, -1, 2)
vector_num
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 3</strong>: obt√©n la longitud del vector anterior `vector_num`. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Longitud del vector
length(vector_num)
```

<!-- tocstop -->
</details>

&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 4</strong>: crea un vector con las palabras "Hola", "me", "llamo" (y tu nombre y apellidos), y pega luego sus elementos de forma que la frase est√© correctamente escrita en castellano. Tras hacerlo, a√±ade "y tengo 30 a√±os". </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Definiendo el vector
vector_char <- c("Hola", "me", "llamo", "Javier",
                 "√Ålvarez", "Li√©bana")

# Pegamos
frase <- paste(vector_char, collapse = " ")
frase

# A√±adimos frase
glue("{frase} y tengo 30 a√±os.")

# Otra forma
paste0(frase, " y tengo 30 a√±os.")

# Otra forma
paste(frase, "y tengo 30 a√±os.")
```

<!-- tocstop -->
</details>

&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 5</strong>: el c√≥digo inferior crea una secuencia de n√∫meros, que empieza en `-1`, que acaba en `32`, y que va saltando de 2 en 2. Mod√≠ficalo para que haga el salto de 3 en 3 y gu√°rdalo en una variable llamada `secuencia`
  
```{r eval = FALSE}
seq(-1, 32, by = 2)
```
</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
secuencia <- seq(-1, 32, by = 3)
secuencia
length(secuencia) # longitud de la secuencia
```

<!-- tocstop -->
</details>

&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 6</strong>: crea una secuencia de n√∫meros, que empiece en `-1`, que acabe en `32`, y que tenga longitud 12. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
secuencia <- seq(-1, 32, l = 12)
secuencia
length(secuencia) # longitud de la secuencia
```

<!-- tocstop -->
</details>

&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 7</strong>: crea una secuencia que empiece en 1 y recorra todos los naturales hasta el 10. Despu√©s crea otra secuencia de longitud 7 que todos los n√∫meros sean `3`.  </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
1:10
rep(3, 7) # secuencia repetida
```

<!-- tocstop -->
</details>

&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 8</strong>: crea una secuencia que repita 5 veces el patr√≥n `1, 2, 3`. Despu√©s crea otra que repita dicho patr√≥n pero de forma intercalada, con 5 veces `1`, despu√©s 5 veces `2` y despu√©s 5 veces `3`.</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
rep(c(1, 2, 3), 5) # repetimos patr√≥n (1, 2, 3) 5 veces
rep(c(1, 2, 3), each = 5) # repetimos patr√≥n alternado
```

<!-- tocstop -->
</details>

&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 9</strong>: crea una variable `x <- c("oso pardo", "oso polar", "ballena", "grillo", "oso panda", "perro")`. Haciendo uso de `str_length()` calcula la longitud de cada cadena de texto. Haciendo uso de `str_detect()` detecta los animales que son un oso.</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
x <- c("oso pardo", "Oso polar", "ballena", "grillo", "OSO panda", "perro")
str_length(x) # longitud

# OJO! antes hay que pasar todo a may√∫scula o min√∫scula, nos da igual que sea oso, OSO, Oso, etc
str_detect(str_to_lower(x), "oso") 
```

<!-- tocstop -->
</details>







## Operaciones con vectores

:::: {.blackbox data-latex=""}

Scripts usados:

* [**script07.R**](https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script07.R): operaciones con vectores.  Ver en <https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script07.R>
::::

(haz click en las flechas para ver soluciones)


<details>
  <summary>üìù<strong>Ejercicio 1</strong>: define el vector `x` como la concatenaci√≥n de los n√∫meros 1, 10, -1 y 2, y calcula su suma.</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Vector de n√∫meros
x <- c(1, 10, -1, 2)

# Suma
sum(x)
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 2</strong>: define otro vector `y` que contenga los n√∫meros `5, -7, 8, -3`, y haz la suma de `x` e `y`. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Vector de n√∫meros
y <- c(5, -7, 8, -3)

# Suma
x + y
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 3</strong>: calcula el n√∫mero de elementos mayores que 0 del resultado de la suma de `x + y`. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
sum((x + y) > 0)

# Otra forma
suma <- x + y
sum(suma > 0)
```

<!-- tocstop -->
</details>


&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 4</strong>: calcula la versi√≥n ordenada del vector `x`. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Ordenamos el vector (con sort)
sort(x)

# Ordenamos el vector  (con order)
x[order(x)]
```

<!-- tocstop -->
</details>

&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 5</strong>: encuentra del vector `x` original el lugar (el √≠ndice) que ocupa su m√≠nimo y su m√°ximo. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
x<- c(1, 10, -1, 2)

# Encontrando el lugar que ocupa el m√°ximo y m√≠nimo
which.max(x)
which.min(x)
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 6</strong>: encuentra del vector `x` los elementos mayores que 1 y menores que 7. Encuentra una forma de averiguar si todos los elementos son o no positivos. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Vector l√≥gico: mayores que 1 y menores que 7
x > 1 & x < 7

# ¬øSon todos positivos? Mira tambi√©n any()
all(x > 0)
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 7</strong>: define el vector `c(-1, 0, 4, 5, -2)`, calcula la ra√≠z cuadrada del vector y determina que lugares son ausente de tipo `NaN`. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Vector
z <- c(-1, 0, 4, 5, -2)

# ¬øCu√°les son ausentes tras aplicar la ra√≠z cuadrada?
is.nan(sqrt(z))
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 8</strong>: define el vector de los primeros n√∫meros impares (hasta el 21) y extrae los elementos que ocupan los lugares 1, 4, 5, 8. Elimina del vector el segundo elemento</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Vector de impares (de 1 a 21 saltando de dos en dos)
x <- seq(1, 21, by = 2)

# Seleccionamos elementos
x[c(1, 4, 5, 8)]

# Eliminamos elementos
y <- x[-2]
y
```

<!-- tocstop -->
</details>


&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 9</strong>: define una cadena de caracteres `texto <- c("oso polar", "oso pardo", "salamandra", "buho", "lechuza", "oso malayo")`. Usa `str_count()` para contabilizar el n√∫mero de osos. Usa `str_starts()` para saber que elemento del vector es un oso o no. Obten la longitud de cada cadena. Sustituye en todas las cadenas la `o` por `*`</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
texto <- c("oso polar", "oso pardo", "salamandra", "buho", "lechuza", "oso malayo")

# Cuenta el n√∫mero de cadenas que contienen la palabra "oso"
str_count(texto, "oso")

# Nos devuelve TRUE en las cadenas que empiecen por "oso"
str_starts(texto, "oso")
str_ends(texto, "oso") # devuelve todo FALSE

# Longitud de cada cadena
str_length(texto)

# Sustituimos en todas las oes por *
str_replace_all(texto, "o", "*")
```

<!-- tocstop -->
</details>





## Fechas

:::: {.blackbox data-latex=""}

Scripts usados:

* [**script08.R**](https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script08.R): operaciones con vectores.  Ver en <https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script08.R>
::::

(haz click en las flechas para ver soluciones)

<details>
  <summary>üìù<strong>Ejercicio 1</strong>: obten la fecha de hoy, define la fecha de tu cumplea√±os, y calcula la diferencia de d√≠as. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
library(lubridate)
# Hoy
hoy <- today()

# Cumple (diferentes formatos de entrada)
cumple <- as_date("1989-09-10") # por defecto
cumple <- as_date("10-09-1989", format = "%d-%m-%Y")

# Diferencia
hoy - cumple
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 2</strong>: define la fecha de tu cumplea√±os y determina si fue a√±o bisiesto. S√∫male 1-2-3-4-5 semanas. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
cumple <- as_date("1989-09-10") # por defecto

# Bisiesto
leap_year(cumple)

# Sumamos semanaes
cumple + weeks(1:5)
```

<!-- tocstop -->
</details>

&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 3</strong>: extrae el mes, a√±o y d√≠a de la semana de tu cumplea√±os </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Mes
month(cumple)

# A√±o 
year(cumple)

# wday
wday(cumple, week_start = 1)
wday(cumple, week_start = 1, label = TRUE)
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 4</strong>: calcula los d√≠as que han pasado desde la fecha de tu nacimiento </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
seconds(today() - cumple)
```

<!-- tocstop -->
</details>

&nbsp;


## Datos estructurados

:::: {.blackbox data-latex=""}

Scripts usados:

* [**script09.R**](https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script09.R): datos estructurados.  Ver en <https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script09.R>
::::

(haz click en las flechas para ver soluciones)


<details>
  <summary><strong>Ejercicio 1</strong>: modifica el c√≥digo para definir una matriz `x` de ceros de 3 filas y 7 columnas.
  
```{r eval = FALSE}
# Matriz
x <- matrix(0, nrow = 2, ncol = 3)
x
```

</summary>

- Soluci√≥n:

```{r}
# Matriz
x <- matrix(0, nrow = 3, ncol = 7)
x
```

</details>

&nbsp; 

<details>
  <summary><strong>Ejercicio 2</strong>: a la matriz anterior, suma un 1 a cada n√∫mero de la matriz y divide el resultado entre 5.</summary>

- Soluci√≥n:

```{r}
(x + 1) / 5
```

</details>

&nbsp; 


<details>
  <summary><strong>Ejercicio 3</strong>: tras definir la matriz `x` calcula su transpuesta y obt√©n sus dimensiones</summary>

- Soluci√≥n:

```{r}
# Transpuesta
t(x)

# Dimensiones transpuesta: pasa de ser 3x7 a 7x3
dim(t(x))
ncol(t(x)) # n√∫mero de columnas de la transpuesta
nrow(t(x)) # n√∫mero de filas de la transpuesta
```

</details>

&nbsp;

<details>
  <summary><strong>Ejercicio 4</strong>: el siguiente c√≥digo define una matriz de dimensiones `4 x 3` y calcula la suma por columnas. Modifica el c√≥digo para que realice la suma por filas.
  
```{r}
# Matriz
matriz <- matrix(1:12, nrow = 4)

# Suma por columnas
apply(matriz, MARGIN = 2, FUN = "sum")
```

</summary>


- Soluci√≥n:

```{r}
# Matriz
matriz <- matrix(1:12, nrow = 4)

# Suma por filas
apply(matriz, MARGIN = 1, FUN = "sum")
```
</details>

&nbsp; 

<details>
  <summary><strong>Ejercicio 5</strong>: con la matriz anterior definida como `matrix(1:12, nrow = 4)`, calcula la media de todos los elementos, la media de cada fila y la media de cada columna.</summary>

- Soluci√≥n:

```{r}
# Matriz
matriz <- matrix(1:12, nrow = 4)

#  media de todos
mean(matriz)

# Media por filas (MARGIN = 1 ya que es una operaci√≥n por filas)
apply(matriz, MARGIN = 1, FUN = "mean")

# Media por filas (MARGIN = 2 ya que es una operaci√≥n por filas)
apply(matriz, MARGIN = 2, FUN = "mean")
```
</details>

&nbsp; 

<details>
  <summary><strong>Ejercicio 6</strong>: el `data.frame` llamado `airquality`, del paquete `{datasets}`, contiene variables de la calidad del aire de la ciudad de Nueva York desde mayo hasta septiembre de 1973. Obt√©n el nombre de las variables.
</summary>
  
- Soluci√≥n:

```{r}
library(datasets)
names(airquality)
```

</details>

 &nbsp; 

<details>
  <summary><strong>Ejercicio 7</strong>: obt√©n las dimensiones del conjunto de datos. ¬øCu√°ntas variables hay? ¬øCu√°ntos d√≠as se han medido?
  
</summary>
  
- Soluci√≥n:

```{r}
# Dimensiones
dim(airquality)
nrow(airquality)
ncol(airquality)
```

</details>

&nbsp; 

<details>
  <summary><strong>Ejercicio 8</strong>: modifica el c√≥digo inferior para que nos filtre solo los datos del mes de julio.
  
```{r eval = FALSE}
# Filtramos filas
filtro_fila <- subset(., subset = Month < 6)
filtro_fila
```
</summary>
  
- Soluci√≥n:

```{r}
# Filtramos filas
filtro_fila <- subset(airquality, subset = Month == 7)
filtro_fila
```

</details>

&nbsp; 

<details>
  <summary><strong>Ejercicio 9</strong>: del conjunto `airquality` selecciona aquellos datos que no sean ni de julio ni de agosto.</summary>
  
- Soluci√≥n:

```{r}
# Filtramos filas
filtro_fila <-
  subset(airquality, subset = !(Month %in% c(7, 8)))
filtro_fila
```

</details>

&nbsp; 

<details>
  <summary><strong>Ejercicio 10</strong>: modifica el siguiente c√≥digo para quedarte solo con las variable `Ozone` y `Temp`.
  
```{r eval = FALSE}
filtro_col <- subset(.,  select = c("Ozone"))
filtro_col
```
</summary>
  
- Soluci√≥n:

```{r}
# Filtramos columnas
filtro_col <- subset(airquality,  select = c("Ozone", "Temp"))
filtro_col
```

</details>


&nbsp; 

<details>
  <summary><strong>Ejercicio 11</strong>: del conjunto `airquality` selecciona los datos de temperatura y viento de agosto.</summary>
  
- Soluci√≥n:

```{r}
# Todo de una vez
filtro <- subset(airquality, subset = Month == 8,
                 select = c("Temp", "Wind"))
filtro
```

</details>


&nbsp; 

<details>
  <summary><strong>Ejercicio 12</strong>: calcula el n√∫mero de filas borradas del ejercicio anterior. Tras hacer todo ello, traduce a castellano el nombre de las columnas del `data.frame` filtrado.</summary>
  
- Soluci√≥n:

```{r}
# Filas borradas
nrow(airquality) - nrow(filtro)

# Cambiamos nombres a castellano del conjunto filtrado
names(filtro) <- c("temperatura", "viento")
```

</details>

&nbsp; 

<details>
  <summary><strong>Ejercicio 13</strong>: a√±ade a los datos originales una columna con la fecha completa (recuerda que es del a√±o 1973 todas las observaciones.</summary>
  
- Soluci√≥n:

```{r}
# Construimos las fechas (pegamos a√±o-mes-d√≠a con "-")
fechas <- 
  as_date(paste("1973", airquality$Month, airquality$Day,
                sep = "-"))

# A√±adimos
data.frame(airquality, fechas)
```

</details>

&nbsp; 






## Listas

:::: {.blackbox data-latex=""}

Scripts usados:

* [**script10.R**](https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script10.R): datos estructurados.  Ver en <https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script10.R>
::::

(haz click en las flechas para ver soluciones)



<details>
  <summary><strong>Ejercicio 1</strong>: define una lista de 4 elementos de tipos distintos y accede al segundo de ellos (yo incluir√© uno que sea un `data.frame` para que veas que en una lista cabe de todo).</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Ejemplo: lista con texto, num√©rico, l√≥gico y un data.frame
lista_ejemplo <- list("nombre" = "Javier", "cp" = 28019,
                      "soltero" = TRUE,
                      "notas" = data.frame("mates" = c(7.5, 8, 9),
                                           "lengua" = c(10, 5, 6)))
lista_ejemplo

# Longitud
length(lista_ejemplo)

# Accedemos al elemento dos
lista_ejemplo[[2]]
```

</details>

&nbsp; 

<details>
  <summary><strong>Ejercicio 2</strong>: accede a los elementos que ocupan los lugares 1 y 4 de la lista definida anteriormente.</summary>
  
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Accedemos al 1 y al 4
lista_ejemplo[c(1, 4)]
```

Otra opci√≥n es acceder con los nombres

```{r}
# Accedemos al 1 y al 4
lista_ejemplo$nombre
lista_ejemplo$notas

lista_ejemplo[c("nombre", "notas")]
```

</details>

&nbsp; 


<details>
  <summary><strong>Ejercicio 3</strong>: define una lista de 4 elementos que contenga, en una sola variable, tu nombre, apellido, edad y si est√°s soltero/a.</summary>
  
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Creamos lista: con lubridate calculamos la diferencia de a√±os desde la fecha de nuestro nacimiento hasta hoy (sea cuando sea hoy)
lista_personal <- list("nombre" = "Javier",
                       "apellidos" = "√Ålvarez Li√©bana",
                       "edad" = 32,
                       "soltero" = TRUE)
lista_personal
```

</details>






## Estructuras if-else

:::: {.blackbox data-latex=""}

Scripts usados:

* [**script11.R**](https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script11.R): if-else.  Ver en <https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script11.R>
::::

(haz click en las flechas para ver soluciones)

<details>
  <summary>üìù<strong>Ejercicio 1</strong>: modifica el c√≥digo inferior para imprimir un mensaje por pantalla si todos los datos del conjunto `airquality` son de meses que no sean enero.
  
```{r eval = FALSE}
# install.packages("dataset") # solo la primera vez
library(datasets) # paquete con los datos
mes <- airquality$Month

if (mes == 2) {
  
  print("Ning√∫n dato es del mes de enero")
  
}
  
```
</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# install.packages("dataset") # solo la primera vez
library(datasets) # paquete con los datos
mes <- airquality$Month

if (all(mes != 1)) { # todos con mes distinto de 1
  
  print("Ning√∫n dato es del mes de enero")
  
}

```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 2</strong>: modifica el c√≥digo inferior para guardar en una variable `temperatura_alta` un valor `TRUE`  si alguno de los registros tiene una temperatura mayor a 90 (est√°n en Farenheit) y un `FALSE` en caso contrario.
  
```{r eval = FALSE}
temperatura <- airquality$Temp

if (temperatura == 100) {
  
  print("Alguno de los registros tiene temperatura superior a 90 Farenheit")
  
}
  
```
</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
temperatura <- airquality$Temp
temperatura_alta <- FALSE # por defecto FALSE
if (any(temperatura > 90)) {
  
  temperatura_alta <- TRUE # si se cumple la condici√≥n, a TRUE
  
}

```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 3</strong>: modifica el c√≥digo inferior para imprimir un mensaje por pantalla si alguno de los d√≠as supera la temperatura de 100.
  
```{r eval = FALSE}
temperatura <- airquality$Temp

if (all(temperatura < 50)) {
  
  print("Alguno de los registros tiene temperatura superior a 100 Farenheit")
  
}
  
```

</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
temperatura <- airquality$Temp

if (any(temperatura > 100)) { # nos basta con uno
  
  print("Alguno de los registros tiene temperatura superior a 100 Farenheit")
  
}

```

No deber√≠a imprimar nada porque ninguno cumple la condici√≥n.


<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 4</strong>: del paquete `{lubridate}`, la funci√≥n `hour()` nos devuelve la hora de una fecha dada, y la funci√≥n `now()` nos devuelve fecha y hora del momento actual. Con ambas funciones, y usando `if`, imprime por pantalla  `"buenas noches"` solo a partir de las 21 horas. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Cargamos librer√≠a
library(lubridate)

# Fecha-hora actual
fecha_actual <- now()

# Estructura if
if (hour(fecha_actual) > 21) {
  
  cat("Buenas noches") # print/cat dos formas de imprimir por pantalla
}
```

<!-- tocstop -->
</details>

&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 5</strong>: con las funciones del ejercicio anterior, y usando una estructura `if-else`, imprime por pantalla `"buenos d√≠as"` (de 6 a 14 horas), `"buenas tardes"` (de 14 a 21 horas) o `"buenas noches"` (de las 21 a las 6 horas). </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Fecha actual
fecha_actual <- now()

# Estructura if-else
if (hour(fecha_actual) > 6 & hour(fecha_actual) < 14) {
  
  cat("Buenos d√≠as")
  
} else if (hour(fecha_actual) > 14 & hour(fecha_actual) < 21) {
  
  cat("Buenas tardes")
  
} else {
  
  cat("Buenas noches")
}
```

<!-- tocstop -->
</details>

&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 6</strong>: realiza el ejercicio anterior pero sin estructura de llaves, de forma concisa con `ifelse()`. Mira la ayuda si la necesitases poniendo `? ifelse` en consola. </summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Fecha actual
fecha_actual <- now()

# Estructura if-else
cat(ifelse(hour(fecha_actual) > 6 & hour(fecha_actual) < 14,
           "Buenos d√≠as",
           ifelse(hour(fecha_actual) > 14 &
                    hour(fecha_actual) < 21,
                  "Buenas tardes", "Buenas noches")))
  
```

<!-- tocstop -->
</details>

&nbsp;




## Estructuras for y while

:::: {.blackbox data-latex=""}

Scripts usados:

* [**script12.R**](https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script12.R): bucles.  Ver en <https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script12.R>
::::

(haz click en las flechas para ver soluciones)


<details>
  <summary>üìù<strong>Ejercicio 1</strong>: modifica el c√≥digo interior para dise√±ar un bucle `for` de 5 iteraciones que recorra los 5 primeros impares y les sume uno.
  
```{r}
for (i in 1:5) {
  
  print(i)
}
```

</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# Una forma
for (i in seq(1, 9, by = 2)) {
  
  print(i + 1)
}

# Otra
for (i in c(1, 3, 5, 7, 9)) {
  
  print(i + 1)
}
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 2</strong>: modifica el c√≥digo interior para dise√±ar un bucle `while` que parta con una variable `conteo <- 1` y pare cuando llegue a 6.
  
```{r}
conteo <- 1
while (conteo == 2) {
  
  print(conteo)
}
```

</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
conteo <- 1
while (conteo < 6) {
  
  print(conteo)
  conteo <- conteo <- conteo + 1
}
```

<!-- tocstop -->
</details>

&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 3</strong>: construye un bucle que recorra las primeras 8 filas del conjunto de datos `datasets::airquality` y que imprima un mensaje con la temperatura

</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
for (i in 1:8) {
  
  print(glue("La temperatura es de {airquality$Temp[i]}¬∫F"))
}
```

<!-- tocstop -->
</details>

&nbsp;


<details>
  <summary>üìù<strong>Ejercicio 4</strong>: dise√±a un bucle `for` de 200 iteraciones que, empezando en un valor inicial de 100 (euros), te sume 3‚Ç¨ si el n√∫mero actual es par y te reste 5‚Ç¨ si es impar.

Un n√∫mero par o impar: un n√∫mero par ser√° todo aquel n√∫mero que al dividir entre 2, la divisi√≥n es exacta, es decir, que su resto es nulo. Por ejemplo, al dividir 5 entre 2, el resto es 1, pero al dividir 12 entre 2 el resto es 0. Para calcula ese resto usaremos la funci√≥n `%%`.

```{r}
5 %% 2
12 %% 2
23 %% 2
46 %% 2
```
</summary>
  
<!-- toc -->
- Soluci√≥n:


```{r}
# dinero inicial
dinero <- 100

# Bucle for
for (i in 1:200) {
  
  dinero <- ifelse(dinero %% 2 == 0, dinero + 3, dinero  - 5)
  
}
dinero
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 5</strong>: dise√±a el anterior bucle pero guardando el dinero de cada iteraci√≥n.</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
# vector de importes
dinero <- rep(0, 201)
dinero[1] <- 100 # dinero inicial

# Bucle for
for (i in 2:201) {
  
  # si dinero[i - 1] es par o  impar
  dinero[i] <- ifelse(dinero[i - 1] %% 2 == 0, dinero[i - 1] + 3,
                      dinero[i - 1]  - 5)
  
}
dinero
```

<!-- tocstop -->
</details>

&nbsp;

<details>
  <summary>üìù<strong>Ejercicio 6</strong>: dise√±a el bucle del ejercicio 4 parando cuando no nos quede dinero.</summary>
  
<!-- toc -->
- Soluci√≥n:

```{r}
dinero <- 100 # dinero inicial

# Bucle while
while (dinero > 0) {
  
  dinero <- ifelse(dinero %% 2 == 0, dinero + 3, dinero - 5)
  
}
dinero
```

<!-- tocstop -->
</details>





## Funciones

:::: {.blackbox data-latex=""}

Scripts usados:

* [**script13.R**](https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script13.R): funciones.  Ver en <https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script13.R>
::::

(haz click en las flechas para ver soluciones)


<details>
  <summary><strong>Ejercicio 1</strong>: modifica el c√≥digo inferior para definir una funci√≥n llamada `funcion_suma`, de forma que dados dos elementos, devuelve su suma.
  
```{r eval = FALSE}
# Definimos funci√≥n
nombre <- function(x, y) {
  
  # Sumamos
  suma <- # c√≥digo a ejecutar
  
  # ¬øQu√© devolvemos?
  return()
}

# Aplicamos la funci√≥n
suma(3, 7)
```
</summary>
  
- Soluci√≥n:

```{r}
# Definimos funci√≥n
funcion_suma <- function(x, y) {
  
  # Sumamos
  suma <- x + y
  
  # Devolvemos la salida
  return(suma)
}

# Aplicamos la funci√≥n
funcion_suma(3, 7)
```

</details>

&nsbp;

<details>
  <summary><strong>Ejercicio 2</strong>: modifica el c√≥digo inferior para definir una funci√≥n llamada `funcion_producto`, de forma que dados dos elementos, devuelve su producto.
  
```{r eval = FALSE}
# Definimos funci√≥n
nombre <- function(x, y) {
  
  # Multiplicamos
  producto <- # c√≥digo de la multiplicaci√≥n
  
  # ¬øQu√© devolvemos?
  return()
}

# Aplicamos la funci√≥n
producto(3, -7)
```
</summary>
  
- Soluci√≥n:

```{r}
# Definimos funci√≥n
funcion_producto <- function(x, y) {
  
  # Multiplicamos
  producto <- x * y
  
  # Devolvemos la salida
  return(producto)
}

# Aplicamos la funci√≥n
funcion_producto(3, -7)
```

</details>

&nbsp;

<details>
  <summary><strong>Ejercicio 3</strong>: modifica el c√≥digo inferior para definir una funci√≥n llamada `funcion_producto`, de forma que dados dos elementos, devuelve su producto, pero que por defecto calcule el cuadrado (es decir, por defecto un solo argumento, y el resultado sea el n√∫mero por s√≠ mismo)
  
```{r eval = FALSE}
# Definimos funci√≥n
nombre <- function(x, y) {
  
  # Multiplicamos
  producto <- # c√≥digo de la multiplicaci√≥n
  
  # ¬øQu√© devolvemos?
  return()
}

# Aplicamos la funci√≥n solo con un argumento
producto(3)

# Aplicamos la funci√≥n con dos argumentos
producto(3, -7)
```
</summary>
  
- Soluci√≥n:

```{r}
# Definimos funci√≥n
funcion_producto <- function(x, y = x) {
  
  # Multiplicamos
  producto <- x * y
  
  # Devolvemos la salida
  return(producto)
}

# Aplicamos la funci√≥n
funcion_producto(3) # por defecto x = 3, y = 3
funcion_producto(3, -7)
```

</details>

&nbsp;

<details>
  <summary><strong>Ejercicio 4</strong>: define una funci√≥n llamada `igualdad_nombres` que, dados dos nombres `persona_1` e `persona_2`, nos diga si son iguales o no. Hazlo considerando importantes las may√∫sculas, y sin que importen las may√∫sculas. Recuerda que con `toupper()` podemos pasar todo un texto a may√∫scula. </summary>
  
- Soluci√≥n:

```{r}
# Distinguiendo may√∫sculas
igualdad_nombres <- function(persona_1, persona_2) {
  
  return(persona_1 == persona_2)
}
igualdad_nombres("Javi", "javi")
igualdad_nombres("Javi", "Luc√≠a")

# Sin importar may√∫sculas
igualdad_nombres <- function(persona_1, persona_2) {
  
  return(toupper(persona_1) == toupper(persona_2))
}
igualdad_nombres("Javi", "javi")
igualdad_nombres("Javi", "Luc√≠a")
```

</details>

&nbsp; 

<details>
  <summary><strong>Ejercicio 5</strong>: define una funci√≥n llamada `pares` que, dados dos n√∫meros `x` e `y`, nos diga si la suma de ambos es par o no.
  
Recuerda que con `%%` podemos obtener el resto de un n√∫mero al dividir entre 2.

```{r}
2 %% 2 # par, resto 0
3 %% 2 # impar, resto 1
```
</summary>
  
- Soluci√≥n:

```{r}
# Definimos funci√≥n
pares <- function(x, y) {
  
  # Sumamos
  suma <- x + y
  
  # Comprobamos si es par
  par <- suma %% 2 == 0
  
  # Devolvemos la salida
  return(par)
}

# Aplicamos la funci√≥n
pares(1, 3) # suma 4 (par)
pares(2, 7) # suma 9 (impar)
```

</details>

&nbsp; 

<details>
  <summary><strong>Ejercicio 6</strong>: define una funci√≥n llamada `pasar_a_celsius` que, dada una temperatura $x$ en Fahrenheit, la convierta a grados Celsius ($¬∫C = (¬∫F - 32) * \frac{5}{9}$). Aplica la funci√≥n a la columna `Temp` del conjunto `airquality`, e incorp√≥rala al fichero en una nueva columna `Temp_Celsius`.
</summary>
  
- Soluci√≥n:

```{r}
# Definimos funci√≥n
pasar_a_celsius <- function(x) {
  
  # Temperatura en Celsius
  x_celsius <- (x - 32) * (5 / 9)
  
  # Devolvemos la salida
  return(x_celsius)
}

# Aplicamos la funci√≥n
pasar_a_celsius(0)
pasar_a_celsius(80)

# Aplicamos
data.frame(airquality,
           "Temp_Celsius" = pasar_a_celsius(airquality$Temp))
```

</details>

&nbsp; 






## Practica final

:::: {.blackbox data-latex=""}

Scripts usados:

* [**script16.R**](https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script16.R): practica final. Ver en <https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script16.R>

::::


(haz click en las flechas para ver soluciones)


<details>
  <summary><strong>Ejercicio 1</strong>: carga el fichero `titanic.RData` que tienes en la carpeta `DATOS` <https://github.com/dadosdelaplace/courses-intro-r/tree/main/DATOS>.
  
</summary>
  
- Soluci√≥n:

```{r}
load("./DATOS/titanic.RData")
```

</details>

&nsbp;


<details>
  <summary><strong>Ejercicio 2</strong>: obt√©n el n√∫mero de individuos y de variables de nuestro dataset
  
</summary>
  
- Soluci√≥n:

```{r}
ncol(titanic) # variables
nrow(titanic) # individuos
```

</details>

&nsbp;


<details>
  <summary><strong>Ejercicio 3</strong>: ¬øde qu√© tipo es la variable `Name`? ¬øY la variable `Pclass`? ¬øY la variable `Age`? ¬øY la variable `Survived`
  
</summary>
  
- Soluci√≥n:

```{r}
class(titanic$Name) 
class(titanic$Pclass)
class(titanic$Age)
class(titanic$Survived)
```

</details>


&nsbp;


<details>
  <summary><strong>Ejercicio 4</strong>: internamente tenemos `0` y `1` pero la variable `Survived` en realidad deber√≠a ser variable l√≥gica (`TRUE` si sobrevivi√≥). Modifica la variable para ponter `TRUE` cuando vale `1` y `FALSE` en caso contrario
  
</summary>
  
- Soluci√≥n:

```{r}
# Modo ifelse
titanic$Survived <- ifelse(titanic$Survived == 1, TRUE, FALSE)

# otra forma: modo bucle + if
load("./DATOS/titanic.RData")
nueva_variable <- rep(FALSE, length(titanic$Survived))
for (i in 1:length(titanic$Survived)) {
  
  if (titanic$Survived[i] == 1) {
    
    nueva_variable[i] <- TRUE
    
  }
}
titanic$Survived <- nueva_variable
```

</details>



&nsbp;


<details>
  <summary><strong>Ejercicio 5</strong>: en la variable `Name` tenemos guardado el nombre de los pasajeros, pero tambi√©n su t√≠tulo (`Mr.`, `Mrs`, `Miss`, etc). Extrae los nombres de las personas con `Miss.`
  
</summary>
  
- Soluci√≥n:

```{r}
library(stringr)
# Con str_detect obtenemos un TRUE/FALSE
titanic$Name[str_detect(titanic$Name, pattern = "Miss.")]
```

</details>


&nsbp;


<details>
  <summary><strong>Ejercicio 6</strong>: calcula la media de edad de los pasajeros del Titanic (recuerda: si hay datos ausentes...). Haz lo mismo pero por sexos (male/female)
  
</summary>
  
- Soluci√≥n:

```{r}
mean(titanic$Age, na.rm = TRUE)
mean(titanic$Age[titanic$Sex == "male"], na.rm = TRUE)
mean(titanic$Age[titanic$Sex == "female"], na.rm = TRUE)
```

</details>


&nsbp;

<details>
  <summary><strong>Ejercicio 7</strong>: ordena la edad de los pasajeros del Titanic de menor a mayor, y de mayor a menor
  
</summary>
  
- Soluci√≥n:

```{r}
sort(titanic$Age) # menor a mayor
sort(titanic$Age, decreasing = TRUE) # mayor a menor
```

&nsbp;

<details>
  <summary><strong>Ejercicio 8</strong>: vamos a clasificar a los pasajeros seg√∫n su edad en `"mayores de edad"` y `"menores de edad"`. Crea un funci√≥n que, dada una edad, nos diga si es mayor o menor de edad. Apl√≠cala despu√©s a nuestra variable `Age` y guarda el resultado en una variable `edad_recodificada ` que a√±adamos a los datos originales
  
</summary>
  
- Soluci√≥n:

```{r}
# Definimos funci√≥n
menor_edad <- function(edad) {
  
  salida <- ifelse(edad < 18, "menores de edad", "mayores de edad")
  return(salida)
}

# Creamos nueva variable
titanic$edad_recodificada <- menor_edad(titanic$Age) # se aplica elemento a elemento
titanic$edad_recodificada # habr√° NA
```

&nsbp;

<details>
  <summary><strong>Ejercicio 9</strong>: el accidente del Titanic se produjo el 15 de abril de 1912. Tomando dicha fecha como referencia, usa la edad de los pasajeros para a√±adir una nueva variable que sea la fecha de nacimiento.
  
</summary>
  
- Soluci√≥n:

```{r}
library(lubridate)
# Fecha accidente
accidente <- as_date("1912/04/15")

# Creamos nueva variable: fecha del accidente - a√±os
# (saldr√°n todos nacidos el 15 de abril, ya que no sabemos
# cuantos meses cumpl√≠an en el momento del accidente)
titanic$fecha_nacimiento <- accidente - titanic$Age
titanic$fecha_nacimiento 
```