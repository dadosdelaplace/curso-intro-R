<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Cap칤tulo 11 Estructuras de control: if-else | Introducci칩n a R: aprendiendo R sin morir en el intento</title>
<meta name="author" content="Javier 츼lvarez Li칠bana">
<meta name="description" content="Scripts usados: script11.R. Ver en https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script11.R  Hasta ahora hemos trasteado con datos: hemos empezado desde una celda, para luego...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Cap칤tulo 11 Estructuras de control: if-else | Introducci칩n a R: aprendiendo R sin morir en el intento">
<meta property="og:type" content="book">
<meta property="og:image" content="/img/logo_R.png">
<meta property="og:description" content="Scripts usados: script11.R. Ver en https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script11.R  Hasta ahora hemos trasteado con datos: hemos empezado desde una celda, para luego...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cap칤tulo 11 Estructuras de control: if-else | Introducci칩n a R: aprendiendo R sin morir en el intento">
<meta name="twitter:description" content="Scripts usados: script11.R. Ver en https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script11.R  Hasta ahora hemos trasteado con datos: hemos empezado desde una celda, para luego...">
<meta name="twitter:image" content="/img/logo_R.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/_Sen-0.4.1/font.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=DM%20Mono&amp;display=swap" rel="stylesheet">
<link href="libs/_Bitter-0.4.1/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="css/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Introducci칩n a R: aprendiendo R sin morir en el intento</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Prefacio</a></li>
<li class="book-part">Recursos</li>
<li><a class="" href="ejercicios-recopilados.html">游닇 Ejercicios recopilados</a></li>
<li><a class="" href="recursos-de-aprendizaje.html">游닄 Recursos de aprendizaje</a></li>
<li class="book-part">Toma de contacto</li>
<li><a class="" href="requisitos.html"><span class="header-section-number">1</span> Requisitos</a></li>
<li><a class="" href="instalacionR.html"><span class="header-section-number">2</span> Instalaci칩n</a></li>
<li><a class="" href="que-es-R.html"><span class="header-section-number">3</span> 쯈u칠 es R?</a></li>
<li><a class="" href="primeros-pasos.html"><span class="header-section-number">4</span> Primeros pasos</a></li>
<li class="book-part">Tipos de datos</li>
<li><a class="" href="var-num.html"><span class="header-section-number">5</span> Variables individuales: n칰meros y caracteres</a></li>
<li><a class="" href="vectores.html"><span class="header-section-number">6</span> Vectores</a></li>
<li><a class="" href="operacionesvectores.html"><span class="header-section-number">7</span> Operaciones con vectores</a></li>
<li><a class="" href="fechas.html"><span class="header-section-number">8</span> Fechas</a></li>
<li><a class="" href="datos.html"><span class="header-section-number">9</span> Datos estructurados</a></li>
<li><a class="" href="listas.html"><span class="header-section-number">10</span> Listas</a></li>
<li class="book-part">Haciendo el trabajo m치s f치cil</li>
<li><a class="active" href="if-else.html"><span class="header-section-number">11</span> Estructuras de control: if-else</a></li>
<li><a class="" href="bucles.html"><span class="header-section-number">12</span> Estructuras de control: bucles</a></li>
<li><a class="" href="funciones.html"><span class="header-section-number">13</span> Funciones</a></li>
<li><a class="" href="proyecto.html"><span class="header-section-number">14</span> Proyecto de trabajo</a></li>
<li class="book-part">Colof칩n</li>
<li><a class="" href="importar-exportar.html"><span class="header-section-number">15</span> Importar/exportar datos</a></li>
<li><a class="" href="practica-final.html"><span class="header-section-number">16</span> 游닇 Pr치ctica final</a></li>
<li><a class="" href="bibliograf%C3%ADa.html">Bibliograf칤a</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/dadosdelaplace/intro-R">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="if-else" class="section level1">
<h1>
<span class="header-section-number">Cap칤tulo 11</span> Estructuras de control: if-else<a class="anchor" aria-label="anchor" href="#if-else"><i class="fas fa-link"></i></a>
</h1>
<div class="blackbox">
<p>Scripts usados:</p>
<ul>
<li>
<a href="https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script11.R"><strong>script11.R</strong></a>. Ver en <a href="https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script11.R" class="uri">https://github.com/dadosdelaplace/courses-intro-R/blob/main/scripts/script11.R</a>
</li>
</ul>
</div>
<p>Hasta ahora hemos trasteado con datos: hemos empezado desde una celda, para luego construir columnas (vectores), y luego juntarlas en algo parecido a una base de datos (tablas o <em>data.frame</em>). Pero para poder manejarnos con soltura con dichos datos es importante que conozcamos c칩mo se usan las <mark><strong>expresiones de control m치s t칤picas</strong></mark>.</p>
<p>Una <mark><strong>expresi칩n de control</strong></mark> ser치 un <mark><strong>conjunto de 칩rdenes</strong></mark> que nos permiten decidir por d칩nde queremos que avance nuestro programa: 쯤u칠 hacemos si sucede A? 쯏 si sucede B?</p>
<p>Si has programado en alg칰n otro lenguaje, estar치s familiarizado/a con elementos como un <code>if (blabla) {...} else {...}</code> (que los usaremos a veces) o bucles <code>for</code> y <code>while</code> (que intentaremos no usarlos en <code>R</code>). Si es la primera que programas en alg칰n lenguaje, no te preocupes, las empezamos desde cero, empezando por las <mark><strong>estructuras condicionales</strong></mark></p>
<div id="if" class="section level2">
<h2>
<span class="header-section-number">11.1</span> if<a class="anchor" aria-label="anchor" href="#if"><i class="fas fa-link"></i></a>
</h2>
<p>Una de las estructuras de control m치s famosas de cualquier lenguaje de programaci칩n es la estructura <code>if</code>: <mark><strong>SI las condiciones impuestas se cumplen (<code>TRUE</code>)</strong></mark>, ejecuta las 칩rdenes que tengamos dentro.</p>
<ul>
<li>
<code>if (x == 1) { c칩digo A }</code>: si <code>condici칩n</code> (por ejemplo, <code>x == 1</code>) es cierta, se ejecuta <code>c칩digo A</code>; en caso contrario, no hace nada.</li>
</ul>
<p>Definamos por ejemplo una variable sencilla, las edades de 8 personas.</p>
<div class="sourceCode" id="cb1084"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">edades</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">14</span>, <span class="fl">17</span>, <span class="fl">24</span>, <span class="fl">56</span>, <span class="fl">31</span>, <span class="fl">20</span>, <span class="fl">87</span>, <span class="fl">73</span><span class="op">)</span></code></pre></div>
<p>Para comprobar cuales son menores de edades podemos aplicar lo aprendido en temas anteriores, realizando una <strong>comparaci칩n l칩gica</strong>: si es menor de edad, devuelve un <code>TRUE</code>; en caso contrario, devuelve un <code>FALSE</code>.</p>
<div class="sourceCode" id="cb1085"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">edades</span> <span class="op">&lt;</span> <span class="fl">18</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<p>Con las funciones <code><a href="https://rdrr.io/r/base/any.html">any()</a></code> y <code><a href="https://rdrr.io/r/base/all.html">all()</a></code> podemos saber si <mark><strong>todos o alguno de los elementos</strong></mark> de un vector <mark><strong>cumplen una condici칩n</strong></mark>.</p>
<div class="sourceCode" id="cb1087"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">edades</span> <span class="op">&gt;=</span> <span class="fl">18</span><span class="op">)</span> <span class="co"># todos mayores de edad</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb1089"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">edades</span> <span class="op">&lt;</span> <span class="fl">18</span><span class="op">)</span> <span class="co"># existe algun menor de edad</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Con dichos elementos vamos a construir nuestra <strong>primera estructura condicional</strong>: queremos que, SI existe alg칰n menor de edad, nos imprima un mensaje.</p>
<div class="sourceCode" id="cb1091"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">edades</span> <span class="op">&lt;</span> <span class="fl">18</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> <span class="co"># TRUE si al menos una persona mayor de edad</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"existe alguna persona mayor de edad"</span><span class="op">)</span>
  
<span class="op">}</span></code></pre></div>
<pre><code>## [1] "existe alguna persona mayor de edad"</code></pre>
<p>En caso de que no se cumplan las condiciones dentro del <code>if()</code> (condiciones que devuelvan un <code>FALSE</code>), no suceder치 nada. Podemos hacer lo mismo cambiando la condici칩n: SI todos son mayores de edad, imprime el mensaje.</p>
<div class="sourceCode" id="cb1093"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">edades</span> <span class="op">&gt;=</span> <span class="fl">18</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> <span class="co"># TRUE si TODOS son mayores de edad</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"todas las personas son mayores de edad"</span><span class="op">)</span>
  
<span class="op">}</span></code></pre></div>
<p>F칤jate que en este caso no hemos obtenido ning칰n mensaje porque la condici칩n <code><a href="https://rdrr.io/r/base/all.html">all(edades &gt;= 18)</a></code> no es cierta (no son todos mayores de 18 a침os), as칤 que no ha ejecutado el c칩digo interno.</p>
</div>
<div id="if---else" class="section level2">
<h2>
<span class="header-section-number">11.2</span> if - else<a class="anchor" aria-label="anchor" href="#if---else"><i class="fas fa-link"></i></a>
</h2>
<p>La estructura <code>if (condicion) { }</code> puede ser combinada con un <code>else { }</code>: cuando la condici칩n del <code>if</code> no se cumpla (como en el 칰ltimo ejemplo), se ejecutar치 el c칩digo que haya dentro del <code>else { }</code>, permiti칠ndonos decidir que sucede cuando S칈 se cumple y cuando NO se cumple.</p>
<ul>
<li>
<code>if (x == 1) { c칩digo A } else { c칩digo B }</code>: si <code>condici칩n</code> (por ejemplo, <code>x == 1</code>) es cierta, se ejecuta <code>c칩digo A</code>; si es falsa, se ejecuta <code>c칩digo B</code>.</li>
</ul>
<p>Siguiendo con el ejemplo de las edades, queremos nos imprima un mensaje SI todos son mayores de edad, y un mensaje diferente en caso de que dicha condici칩n no se cumpla.</p>
<div class="sourceCode" id="cb1094"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">edades</span> <span class="op">&gt;=</span> <span class="fl">18</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> <span class="co"># TRUE si TODOS son mayores de edad</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"todas las personas son mayores de edad"</span><span class="op">)</span>
  
<span class="op">}</span> <span class="kw">else</span> <span class="op">{</span> <span class="co"># si hay alguno menor de edad </span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"existe alguna persona menor de edad"</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] "existe alguna persona menor de edad"</code></pre>
<p>Podemos ya complicar un poco el c칩digo con lo que hemos aprendido de temas anteriores. Por ejemplo, en caso de que no se cumpla (es decir, que haya alguno menor de edad), queremos extraer la edad por pantalla de esos menores (con <code>edades[edades &lt; 18]</code> extraeremos las edades que cumplen la condici칩n de ser menor de edad).</p>
<div class="sourceCode" id="cb1096"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">edades</span> <span class="op">&gt;=</span> <span class="fl">18</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> <span class="co"># TRUE si TODOS son mayores de edad</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"todas las personas son mayores de edad"</span><span class="op">)</span>
  
<span class="op">}</span> <span class="kw">else</span> <span class="op">{</span> <span class="co"># si hay alguno menor de edad </span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/glue/man/glue.html">glue</a></span><span class="op">(</span><span class="st">"Existen menores de edad. Sus edades son: {paste(edades[edades &lt; 18], collapse = '-')} a침os"</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<pre><code>## Existen menores de edad. Sus edades son: 14-17 a침os</code></pre>
</div>
<div id="if---else-anidados" class="section level2">
<h2>
<span class="header-section-number">11.3</span> if - else anidados<a class="anchor" aria-label="anchor" href="#if---else-anidados"><i class="fas fa-link"></i></a>
</h2>
<p>Dicha estructura <code>if - else</code> puede <mark><strong>anidarse</strong></mark>, de forma que vayamos <mark><strong>concatenando</strong></mark> dichas estructuras, como en el ejemplo que tenemos debajo. Imagina que queremos realizar una acci칩n si todos fuesen mayores de edad; en caso contrario, pero si todos los menores de edad tienen 16 a침os o m치s, realizar otra acci칩n; en caso contrario, otra acci칩n</p>
<div class="sourceCode" id="cb1098"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">edades</span> <span class="op">&gt;=</span> <span class="fl">18</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> <span class="co"># TRUE si TODOS son mayores de edad</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"todas las personas son mayores de edad"</span><span class="op">)</span>
  
<span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">edades</span> <span class="op">&gt;=</span> <span class="fl">16</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> <span class="co"># si todos los menores de edad tienen &gt;=16</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"Existe alguna persona menor de edad pero todos con 16 a침os o m치s"</span><span class="op">)</span>
  
<span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"Existe alguna persona menor de 16 a침os"</span><span class="op">)</span>

<span class="op">}</span></code></pre></div>
<pre><code>## [1] "Existe alguna persona menor de 16 a침os"</code></pre>
</div>
<div id="ifelse-vectorizado" class="section level2">
<h2>
<span class="header-section-number">11.4</span> ifelse () vectorizado<a class="anchor" aria-label="anchor" href="#ifelse-vectorizado"><i class="fas fa-link"></i></a>
</h2>
<p>Esta <mark><strong>estructura condicional puede ser vectorizada</strong></mark>, de forma que podamos reunir en una <strong>sola fila un n칰mero elevado de estructuras de comparaci칩n</strong> la funci칩n <code><a href="https://rdrr.io/r/base/ifelse.html">ifelse()</a></code>, cuyos argumentos de entrada ser치n la condici칩n a evaluar, lo que sucede cuando se cumple y lo que no, que aplicar치 a cada elemento del vector de entrada. Con el ejemplo de las edades, vamos a <strong>dejar el dato ausente si son menores de edad</strong>, y si son mayores de edad se queda como est치 (recuerda: primero la condici칩n, despu칠s lo que devuelve cuando es <code>TRUE</code>, y por 칰ltimo lo que devuelve cuando es <code>FALSE</code>)</p>
<div class="sourceCode" id="cb1100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># NA si no cumple la condici칩n, la edad si se cumple.</span>
<span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">edades</span> <span class="op">&gt;=</span> <span class="fl">18</span>, <span class="va">edades</span>, <span class="cn">NA</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] NA NA 24 56 31 20 87 73</code></pre>
<p>Todas estas estructuras no solo sirven para datos num칠ricos. Vamos a definir un vector de nombres con algunos ausentes (<code>NA</code>), y vamos a sustituir los ausentes por el texto <code>"nombre_desconocido"</code> (los que no sean ausentes, es decir los que <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code> devuelva <code>FALSE</code>, se quedan como est치n).</p>
<div class="sourceCode" id="cb1102"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nombres</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Juan"</span>, <span class="st">"Mar칤a"</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="st">"Luc칤a"</span>, <span class="st">"Carmen"</span>, <span class="st">"Javier"</span>,
             <span class="cn">NA</span>, <span class="st">"Carlos"</span>, <span class="cn">NA</span>, <span class="st">"Gregorio"</span>, <span class="st">"Paloma"</span><span class="op">)</span>

<span class="co"># Si tiene ausente --&gt; "nombre_desconocido"</span>
<span class="co"># Si no tiene ausente --&gt; nombres originales</span>
<span class="va">nombres</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">nombres</span><span class="op">)</span>, <span class="st">"nombre_desconocido"</span>, <span class="va">nombres</span><span class="op">)</span>
<span class="va">nombres</span></code></pre></div>
<pre><code>##  [1] "Juan"               "Mar칤a"              "nombre_desconocido"
##  [4] "nombre_desconocido" "Luc칤a"              "Carmen"            
##  [7] "Javier"             "nombre_desconocido" "Carlos"            
## [10] "nombre_desconocido" "Gregorio"           "Paloma"</code></pre>
<p>Esta funci칩n <code><a href="https://rdrr.io/r/base/ifelse.html">ifelse()</a></code> es muy util para codificar variables o averiguar cuales cumplen una condici칩n.</p>
</div>
<div id="consejos-7" class="section level2">
<h2>
<span class="header-section-number">11.5</span> Consejos<a class="anchor" aria-label="anchor" href="#consejos-7"><i class="fas fa-link"></i></a>
</h2>
<p><strong><span style="color: #20935E;">CONSEJOS</span></strong></p>
<p></p>
<p><strong><span style="color: #20935E;">Rainbow parentheses</span></strong></p>
<p>Uno de los <strong>errores m치s habituales</strong>, y que seguir치s cometiendo aunque lleves a침os programando, es <mark><strong>no cerrar un par칠ntesis que has abierto</strong></mark>, por lo que el programa no sabe si has acabado de llamar a una orden o no. Para ello en las nuevas versiones de <code>RStudio</code>, en el men칰 <code>Tools &lt; Global Options &lt; Code &lt; Display</code> podemos habilitar la opci칩n <code>Rainbow Parentheses</code> que nos escribe cada par de <code>()</code> de un color distinto</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-359"></span>
<img src="img/rainbow-parentheses.jpg" alt="Activando Rainbow Parentheses." width="80%"><p class="caption">
Imagen/gr치fica 11.1: Activando Rainbow Parentheses.
</p>
</div>
<p></p>
<p><strong><span style="color: #20935E;">Minimiza estructuras de control en el c칩digo</span></strong></p>
<p>Puedes colapsar las estructuras de control pulsando en la flecha que aparece a la izquierda de ellas en tu script.</p>
<p></p>
</div>
<div id="ejercicios-8" class="section level2">
<h2>
<span class="header-section-number">11.6</span> 游닇 Ejercicios<a class="anchor" aria-label="anchor" href="#ejercicios-8"><i class="fas fa-link"></i></a>
</h2>
<p>(haz click en las flechas para ver soluciones)</p>
<details><p><summary>游닇<strong>Ejercicio 1</strong>: modifica el c칩digo inferior para imprimir un mensaje por pantalla si todos los datos del conjunto <code>airquality</code> son de meses que no sean enero.</summary></p>
<p></p>
<!-- toc -->
<ul>
<li>Soluci칩n:</li>
</ul>
<div class="sourceCode" id="cb1104"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("dataset") # solo la primera vez</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">datasets</span><span class="op">)</span> <span class="co"># paquete con los datos</span>
<span class="va">mes</span> <span class="op">&lt;-</span> <span class="va">airquality</span><span class="op">$</span><span class="va">Month</span>

<span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">mes</span> <span class="op">!=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> <span class="co"># todos con mes distinto de 1</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"Ning칰n dato es del mes de enero"</span><span class="op">)</span>
  
<span class="op">}</span></code></pre></div>
<pre><code>## [1] "Ning칰n dato es del mes de enero"</code></pre>
<!-- tocstop -->
</details><div class="sourceCode" id="cb1106"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("dataset") # solo la primera vez</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">datasets</span><span class="op">)</span> <span class="co"># paquete con los datos</span>
<span class="va">mes</span> <span class="op">&lt;-</span> <span class="va">airquality</span><span class="op">$</span><span class="va">Month</span>

<span class="kw">if</span> <span class="op">(</span><span class="va">mes</span> <span class="op">==</span> <span class="fl">2</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"Ning칰n dato es del mes de enero"</span><span class="op">)</span>
  
<span class="op">}</span></code></pre></div>
<p></p>
<details><p><summary>游닇<strong>Ejercicio 2</strong>: modifica el c칩digo inferior para guardar en una variable <code>temperatura_alta</code> un valor <code>TRUE</code> si alguno de los registros tiene una temperatura mayor a 90 (est치n en Farenheit) y un <code>FALSE</code> en caso contrario.
</summary></p>
<!-- toc -->
<ul>
<li>Soluci칩n:</li>
</ul>
<div class="sourceCode" id="cb1107"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">temperatura</span> <span class="op">&lt;-</span> <span class="va">airquality</span><span class="op">$</span><span class="va">Temp</span>
<span class="va">temperatura_alta</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span> <span class="co"># por defecto FALSE</span>
<span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">temperatura</span> <span class="op">&gt;</span> <span class="fl">90</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="va">temperatura_alta</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span> <span class="co"># si se cumple la condici칩n, a TRUE</span>
  
<span class="op">}</span></code></pre></div>
<!-- tocstop -->
</details><div class="sourceCode" id="cb1108"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">temperatura</span> <span class="op">&lt;-</span> <span class="va">airquality</span><span class="op">$</span><span class="va">Temp</span>

<span class="kw">if</span> <span class="op">(</span><span class="va">temperatura</span> <span class="op">==</span> <span class="fl">100</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"Alguno de los registros tiene temperatura superior a 90 Farenheit"</span><span class="op">)</span>
  
<span class="op">}</span></code></pre></div>
<p></p>
<details><p><summary>游닇<strong>Ejercicio 3</strong>: modifica el c칩digo inferior para imprimir un mensaje por pantalla si alguno de los d칤as supera la temperatura de 100.</summary></p>
<p></p>
<!-- toc -->
<ul>
<li>Soluci칩n:</li>
</ul>
<div class="sourceCode" id="cb1109"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">temperatura</span> <span class="op">&lt;-</span> <span class="va">airquality</span><span class="op">$</span><span class="va">Temp</span>

<span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">temperatura</span> <span class="op">&gt;</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> <span class="co"># nos basta con uno</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"Alguno de los registros tiene temperatura superior a 100 Farenheit"</span><span class="op">)</span>
  
<span class="op">}</span></code></pre></div>
<p>No deber칤a imprimar nada porque ninguno cumple la condici칩n.</p>
<!-- tocstop -->
</details><div class="sourceCode" id="cb1110"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">temperatura</span> <span class="op">&lt;-</span> <span class="va">airquality</span><span class="op">$</span><span class="va">Temp</span>

<span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">temperatura</span> <span class="op">&lt;</span> <span class="fl">50</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"Alguno de los registros tiene temperatura superior a 100 Farenheit"</span><span class="op">)</span>
  
<span class="op">}</span></code></pre></div>
<p></p>
<details><p><summary>游닇<strong>Ejercicio 4</strong>: del paquete <a href="https://lubridate.tidyverse.org">lubridate</a>, la funci칩n <code><a href="https://rdrr.io/pkg/lubridate/man/hour.html">hour()</a></code> nos devuelve la hora de una fecha dada, y la funci칩n <code><a href="https://rdrr.io/pkg/lubridate/man/now.html">now()</a></code> nos devuelve fecha y hora del momento actual. Con ambas funciones, y usando <code>if</code>, imprime por pantalla <code>"buenas noches"</code> solo a partir de las 21 horas. </summary></p>
<!-- toc -->
<ul>
<li>Soluci칩n:</li>
</ul>
<div class="sourceCode" id="cb1111"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Cargamos librer칤a</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org">lubridate</a></span><span class="op">)</span>

<span class="co"># Fecha-hora actual</span>
<span class="va">fecha_actual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lubridate/man/now.html">now</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># Estructura if</span>
<span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/lubridate/man/hour.html">hour</a></span><span class="op">(</span><span class="va">fecha_actual</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">21</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Buenas noches"</span><span class="op">)</span> <span class="co"># print/cat dos formas de imprimir por pantalla</span>
<span class="op">}</span></code></pre></div>
<!-- tocstop -->
</details><p></p>
<details><p><summary>游닇<strong>Ejercicio 5</strong>: con las funciones del ejercicio anterior, y usando una estructura <code>if-else</code>, imprime por pantalla (con <code><a href="https://rdrr.io/r/base/cat.html">cat()</a></code> o <code><a href="https://rdrr.io/r/base/print.html">print()</a></code>) los mensajes <code>"buenos d칤as"</code> (de 6 a 14 horas), <code>"buenas tardes"</code> (de 14 a 21 horas) o <code>"buenas noches"</code> (de las 21 a las 6 horas). </summary></p>
<!-- toc -->
<ul>
<li>Soluci칩n:</li>
</ul>
<div class="sourceCode" id="cb1112"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Fecha actual</span>
<span class="va">fecha_actual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lubridate/man/now.html">now</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># Estructura if-else</span>
<span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/lubridate/man/hour.html">hour</a></span><span class="op">(</span><span class="va">fecha_actual</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">6</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/pkg/lubridate/man/hour.html">hour</a></span><span class="op">(</span><span class="va">fecha_actual</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">14</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Buenos d칤as"</span><span class="op">)</span>
  
<span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/lubridate/man/hour.html">hour</a></span><span class="op">(</span><span class="va">fecha_actual</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">14</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/pkg/lubridate/man/hour.html">hour</a></span><span class="op">(</span><span class="va">fecha_actual</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">21</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Buenas tardes"</span><span class="op">)</span>
  
<span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Buenas noches"</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<pre><code>## Buenos d칤as</code></pre>
<!-- tocstop -->
</details><p></p>
<details><p><summary>游닇<strong>Ejercicio 6</strong>: realiza el ejercicio anterior pero sin estructura de llaves, de forma concisa con <code><a href="https://rdrr.io/r/base/ifelse.html">ifelse()</a></code>. Mira la ayuda si la necesitases poniendo <code><a href="https://rdrr.io/r/base/ifelse.html">? ifelse</a></code> en consola. </summary></p>
<!-- toc -->
<ul>
<li>Soluci칩n:</li>
</ul>
<div class="sourceCode" id="cb1114"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Fecha actual</span>
<span class="va">fecha_actual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lubridate/man/now.html">now</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># Estructura if-else</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/lubridate/man/hour.html">hour</a></span><span class="op">(</span><span class="va">fecha_actual</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">6</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/pkg/lubridate/man/hour.html">hour</a></span><span class="op">(</span><span class="va">fecha_actual</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">14</span>,
           <span class="st">"Buenos d칤as"</span>,
           <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/lubridate/man/hour.html">hour</a></span><span class="op">(</span><span class="va">fecha_actual</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">14</span> <span class="op">&amp;</span>
                    <span class="fu"><a href="https://rdrr.io/pkg/lubridate/man/hour.html">hour</a></span><span class="op">(</span><span class="va">fecha_actual</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">21</span>,
                  <span class="st">"Buenas tardes"</span>, <span class="st">"Buenas noches"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## Buenos d칤as</code></pre>
<!-- tocstop -->
</details><p></p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="listas.html"><span class="header-section-number">10</span> Listas</a></div>
<div class="next"><a href="bucles.html"><span class="header-section-number">12</span> Estructuras de control: bucles</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#if-else"><span class="header-section-number">11</span> Estructuras de control: if-else</a></li>
<li><a class="nav-link" href="#if"><span class="header-section-number">11.1</span> if</a></li>
<li><a class="nav-link" href="#if---else"><span class="header-section-number">11.2</span> if - else</a></li>
<li><a class="nav-link" href="#if---else-anidados"><span class="header-section-number">11.3</span> if - else anidados</a></li>
<li><a class="nav-link" href="#ifelse-vectorizado"><span class="header-section-number">11.4</span> ifelse () vectorizado</a></li>
<li><a class="nav-link" href="#consejos-7"><span class="header-section-number">11.5</span> Consejos</a></li>
<li><a class="nav-link" href="#ejercicios-8"><span class="header-section-number">11.6</span> 游닇 Ejercicios</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/dadosdelaplace/intro-R/blob/master/12-estructuras_control.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/dadosdelaplace/intro-R/edit/master/12-estructuras_control.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Introducci칩n a R: aprendiendo R sin morir en el intento</strong>" was written by Javier 츼lvarez Li칠bana. It was last built on 칔ltima actualizaci칩n: 12-09-2022.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
